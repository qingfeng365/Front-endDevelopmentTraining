# 第01讲 环境搭建

## 使用说明

## 升级cnpm

```bash
npm install cnpm -g --registry=https://registry.npm.taobao.org
```

### 全局安装命令行工具

`npm install -g @angular/cli`

### 启用淘宝cnpm

`ng set --global packageManager=cnpm`

### 命令行帮助

`ng help`

### 创建一个新项目

`ng new myapp ` (不推荐)

或 仅创建不安装

`ng new myapp --skip-install`  

`ng new myapp --link-cli --skip-git`

`ng new myapp --link-cli --skip-git --routing`


推荐 使用 `--skip-install --link-cli` , 然后改用 `cnpm install`

`--routing` 在正式项目中,建议要使用该参数
`--link-cli` 表示当前项目 `@angular/cli` 使用全局安装的 `@angular/cli`
### 首次运行项目

要确认已经完成安装 

使用 

`npm start`

或

`ng serve`  (推荐)


## 学习要提前做好的准备

保留种子项目,方便复制原始项目

用以下命令创建两个种子项目,并保留不变

以后学习创建项目时,从种子项目复制

```bash
ng new app-init --skip-install --skip-git --link-cli 

ng new app-init-routing --routing --skip-install --skip-git --link-cli

cd app-init

cnpm install

cd ..

cd app-init-routing

cnpm install
```


## 原始文档

[https://github.com/angular/angular-cli](https://github.com/angular/angular-cli)

## 官方中文指南

[https://angular.cn/docs/ts/latest/](https://angular.cn/docs/ts/latest/)

TypeScript 中文文档
[https://www.tslang.cn/docs/home.html](https://www.tslang.cn/docs/home.html)

### 说明

Scaffold  | Usage
---       | ---
[Component](https://github.com/angular/angular-cli/wiki/generate-component) | `ng g component my-new-component`
[Directive](https://github.com/angular/angular-cli/wiki/generate-directive) | `ng g directive my-new-directive`
[Pipe](https://github.com/angular/angular-cli/wiki/generate-pipe)           | `ng g pipe my-new-pipe`
[Service](https://github.com/angular/angular-cli/wiki/generate-service)     | `ng g service my-new-service`
[Class](https://github.com/angular/angular-cli/wiki/generate-class)         | `ng g class my-new-class`
[Guard](https://github.com/angular/angular-cli/wiki/generate-guard)         | `ng g guard my-new-guard`
[Interface](https://github.com/angular/angular-cli/wiki/generate-interface) | `ng g interface my-new-interface`
[Enum](https://github.com/angular/angular-cli/wiki/generate-enum)           | `ng g enum my-new-enum`
[Module](https://github.com/angular/angular-cli/wiki/generate-module)       | `ng g module my-module`

### 关于如何更新的重要说明

To update Angular CLI to a new version, you must update both the global package and your project's local package.

Global package:
```bash
npm uninstall -g @angular/cli
npm cache clean
npm install -g @angular/cli@latest
```

Local project package:
```bash
rm -rf node_modules dist # use rmdir /S/Q node_modules dist in Windows Command Prompt; use rm -r -fo node_modules,dist in Windows PowerShell
npm install --save-dev @angular/cli@latest
npm install
```



